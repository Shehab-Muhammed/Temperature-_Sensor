/*___________________________________________________________________INCLUDES___________________________________________________________________*/
/*___________________________________________________________________INCLUDES___________________________________________________________________*/
/*___________________________________________________________________INCLUDES___________________________________________________________________*/
/*___________________________________________________________________INCLUDES___________________________________________________________________*/
/*___________________________________________________________________INCLUDES___________________________________________________________________*/
#include "LCD_INTERFACE.h"
#define	  F_CPU 8000000UL
#include <util/delay.h>
/*___________________________________________________________________INCLUDES___________________________________________________________________*/
/*___________________________________________________________________INCLUDES___________________________________________________________________*/
/*___________________________________________________________________INCLUDES___________________________________________________________________*/
/*___________________________________________________________________INCLUDES___________________________________________________________________*/
/*___________________________________________________________________INCLUDES___________________________________________________________________*/


/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/

#if defined LCD_8_BIT_FUNC
void LCD_INIT(void)
{
/*___________________________________________________AFTER POWER (VDD-VSS-VO)________________________*/

		_delay_ms(50);
/*___________________________________________________________________________________________________*/	

		//1--->//DATA PORT OUTPUT
		DIO_SET_PORT_DIRECTION(LCD_PORT,PORT_OUTPUT);
		
/*_____________________________________________________LCD_PORT_DIRECTION____________________________*/	
	
	
		//2--->//RW---> READ / ~WRITE------>( 1 , 0)
		DIO_SET_PIN_DIRECTION(LCD_CONTROL_PORT,RW_PIN,PIN_OUTPUT);
	
	
		//3--->//RS-REGISTER SELECT--> SEND ( COMMAND , DATA )--->( 0 , 1 )
		DIO_SET_PIN_DIRECTION(LCD_CONTROL_PORT,RS_PIN,PIN_OUTPUT);
			
		
		//4--->//E---> ENABLE------>( 1 ,0 )
		DIO_SET_PIN_DIRECTION(LCD_CONTROL_PORT,EN_PIN,PIN_OUTPUT);
		
		
/*_________________________________________________LCD_CTRL_PINS_DIRECTRION____________________________*/	
	
		
		DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RW_PIN,LOW);
		
/*__________________________________________________RW_PIN_IS_WRITE_MODE_______________________________*/

		LCD_SEND_COMMAND(LCD_HOME);
		_delay_ms(10);
/*__________________________________________________ADDRESS_COUNTER_CLEAR_(0x02)_______________________*/		
		
		
		LCD_SEND_COMMAND(LCD_8_BIT_FUNC);												
		_delay_ms(5);	
/*__________________________________________________8_BIT_MODE_(0x38)__________________________________*/
									
				
		LCD_SEND_COMMAND(LCD_DSPLAY_ON_CURSOR_ON);			
		_delay_ms(5);
/*__________________________________________________DSIPLAY_CURSOR_LCD_(0x0C)__________________________*/
							
		LCD_SEND_COMMAND(LCD_ClEAR);				
		_delay_ms(10);
/*__________________________________________________LCD_CLEAR_(0x01)___________________________________*/	
										
		LCD_SEND_COMMAND(LCD_ENTRY_MODE);			
		_delay_ms(5);								
		
}
#endif
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_8_BIT_____________________________________________________________*/



/*___________________________________________________________________SEND_COMMAND_________________________________________________________________*/
/*___________________________________________________________________SEND_COMMAND_________________________________________________________________*/
/*___________________________________________________________________SEND_COMMAND_________________________________________________________________*/
/*___________________________________________________________________SEND_COMMAND_________________________________________________________________*/
#if defined LCD_8_BIT_FUNC
void LCD_SEND_COMMAND(uint_8 CMD)
{	
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RS_PIN,PIN_INPUT);	//-------------->COMMAND_MODE
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RW_PIN,PIN_INPUT);	//-------------->WRITE_MODE
	
	DIO_PORT_WRITE(LCD_PORT,CMD);//--------------------------------------------->TAKE_COMMAND
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,EN_PIN,PIN_INPUT); //---------------->READY_FOR_PULSE
	
	_delay_ms(2);

	ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
	
}
#endif
/*___________________________________________________________________SEND_COMMAND_________________________________________________________________*/
/*___________________________________________________________________SEND_COMMAND_________________________________________________________________*/
/*___________________________________________________________________SEND_COMMAND_________________________________________________________________*/
/*___________________________________________________________________SEND_COMMAND_________________________________________________________________*/

/*___________________________________________________________________SEND_DATA_________________________________________________________________*/
/*___________________________________________________________________SEND_DATA_________________________________________________________________*/
/*___________________________________________________________________SEND_DATA_________________________________________________________________*/
/*___________________________________________________________________SEND_DATA_________________________________________________________________*/
#if defined LCD_8_BIT_FUNC
void LCD_SEND_DATA(uint_8 DATA)
{
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RS_PIN,PIN_OUTPUT);	//-------------->DATA_MODE
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RW_PIN,PIN_INPUT);	//-------------->WRITE_MODE
	
	DIO_PORT_WRITE(LCD_PORT,DATA);//-------------------------------------------->TAKE_DATA
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,EN_PIN,PIN_INPUT); //---------------->READY_FOR_PULSE
	
	_delay_ms(2);

	ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
	
	
}
#endif
/*___________________________________________________________________SEND_DATA_________________________________________________________________*/
/*___________________________________________________________________SEND_DATA_________________________________________________________________*/
/*___________________________________________________________________SEND_DATA_________________________________________________________________*/
/*___________________________________________________________________SEND_DATA_________________________________________________________________*/



/*___________________________________________________________________ENABLE_PULSE_________________________________________________________________*/
/*___________________________________________________________________ENABLE_PULSE_________________________________________________________________*/
/*___________________________________________________________________ENABLE_PULSE_________________________________________________________________*/
/*___________________________________________________________________ENABLE_PULSE_________________________________________________________________*/

 static void ENABLE_PULSE(void)
{
	DIO_SET_PIN_DIRECTION	(LCD_CONTROL_PORT,EN_PIN,PIN_OUTPUT);
	DIO_PORT_PIN_WRITE		(LCD_CONTROL_PORT,EN_PIN,LOW);
	_delay_ms(2);
	DIO_PORT_PIN_WRITE		(LCD_CONTROL_PORT,EN_PIN,HIGH);
	_delay_ms(10);													  //----STATIC_AVOID_CALLING_FROM_APP_LAYER
	DIO_PORT_PIN_WRITE		(LCD_CONTROL_PORT,EN_PIN,LOW);
	_delay_ms(5);
	
}
/*___________________________________________________________________ENABLE_PULSE_________________________________________________________________*/
/*___________________________________________________________________ENABLE_PULSE_________________________________________________________________*/
/*___________________________________________________________________ENABLE_PULSE_________________________________________________________________*/
/*___________________________________________________________________ENABLE_PULSE_________________________________________________________________*/






/*_______________________________________________________________LCD_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD_WRITE_STRING_____________________________________________________________*/
#if defined LCD_8_BIT_FUNC
void LCD_WRITE_STRING(uint_8* STRING)
{
	uint_8 i=0;
	while(STRING[i]!='\0')
	{
		LCD_SEND_DATA(STRING[i]);
		STRING++;
	}
	
}
#endif
/*_______________________________________________________________LCD_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD_WRITE_STRING_____________________________________________________________*/





/*_________________________________________________________________MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________MOVE_CURSOR___________________________________________________________*/
#if defined LCD_8_BIT_FUNC
void MOVE_CURSOR(uint_8 ROW,uint_8 COULMN)
{
	if((ROW<1) || (ROW>2) || (COULMN<1) ||(COULMN>16))
	{
		LCD_SEND_COMMAND(LCD_CURSOR_SET);//----------------------->RETURN_CURSOR_TO_FIRST_POSITION
	}
	else if (ROW==1)
	{
		LCD_SEND_COMMAND((0x80+(COULMN-1)));//-------------------->LINE_ONE_SPECIFIC_COULMN
	}
	else if (ROW==2)
	{
		LCD_SEND_COMMAND((0xC0+(COULMN-1)));//-------------------->LINE_TWO_SPECIFIC_COULMN
	}
	
}
#endif
/*_________________________________________________________________MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________MOVE_CURSOR___________________________________________________________*/



/*_________________________________________________________________FUNCTIONS_____________________________________________________________________*/
/*_________________________________________________________________FUNCTIONS_____________________________________________________________________*/
/*_________________________________________________________________FUNCTIONS_____________________________________________________________________*/
/*_________________________________________________________________FUNCTIONS_____________________________________________________________________*/

/*_______________________________________________________LCD_INIT_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_4_BIT_____________________________________________________________*/


/*___________________________________________________AFTER POWER (VDD-VSS-VO)________________________*/
#if defined		LCD_4_BIT_FUNC
void LCD_4_BIT_INIT(uint_8 NIPPLE)
{
	
	_delay_ms(50);
	/*___________________________________________________________________________________________________*/

	//1--->//DATA PORT OUTPUT
	switch(NIPPLE)
	{
		
		case LOW_NIPPLE :
		DIO_SET_PIN_DIRECTION(LCD_PORT,0,PIN_OUTPUT);
		DIO_SET_PIN_DIRECTION(LCD_PORT,1,PIN_OUTPUT);
		DIO_SET_PIN_DIRECTION(LCD_PORT,2,PIN_OUTPUT);
		DIO_SET_PIN_DIRECTION(LCD_PORT,3,PIN_OUTPUT);
		break;
		
		case HIGH_NIPPLE:
		DIO_SET_PIN_DIRECTION(LCD_PORT,4,PIN_OUTPUT);
		DIO_SET_PIN_DIRECTION(LCD_PORT,5,PIN_OUTPUT);
		DIO_SET_PIN_DIRECTION(LCD_PORT,6,PIN_OUTPUT);
		DIO_SET_PIN_DIRECTION(LCD_PORT,7,PIN_OUTPUT);
		break;
		
		
	}
	/*_____________________________________________________LCD_NIPPLES_PORT_DIRECTION______________________*/


	//2--->//RW---> READ / ~WRITE------>( 1 , 0)
	DIO_SET_PIN_DIRECTION(LCD_CONTROL_PORT,RW_PIN,PIN_OUTPUT);


	//3--->//RS-REGISTER SELECT--> SEND ( COMMAND , DATA )--->( 0 , 1 )
	DIO_SET_PIN_DIRECTION(LCD_CONTROL_PORT,RS_PIN,PIN_OUTPUT);


	//4--->//E---> ENABLE------>( 1 ,0 )
	DIO_SET_PIN_DIRECTION(LCD_CONTROL_PORT,EN_PIN,PIN_OUTPUT);


	/*_________________________________________________LCD_CTRL_PINS_DIRECTRION____________________________*/


	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RW_PIN,LOW);
	/*__________________________________________________WRITE_MODE_________________________________________*/
	

	LCD_SEND_CMD_FOUR_BIT(LCD_HOME,NIPPLE_MODE);
	_delay_ms(10);
	/*__________________________________________________ADDRESS_COUNTER_CLEAR_(0x02)_______________________*/
	
	LCD_SEND_CMD_FOUR_BIT(LCD_4_BIT_FUNC,NIPPLE_MODE);
	_delay_ms(5);
	/*__________________________________________________4_BIT_MODE_(0x28)__________________________________*/

	
	LCD_SEND_CMD_FOUR_BIT(LCD_DSPLAY_ON_CURSOR_ON,NIPPLE_MODE);
	_delay_ms(5);
	/*__________________________________________________DSIPLAY_CURSOR_LCD_(0x0C)__________________________*/

	LCD_SEND_CMD_FOUR_BIT(LCD_ClEAR,NIPPLE_MODE);
	_delay_ms(10);
	/*__________________________________________________LCD_CLEAR_(0x01)___________________________________*/

	LCD_SEND_CMD_FOUR_BIT(LCD_ENTRY_MODE,NIPPLE_MODE);
	_delay_ms(5);
	/*__________________________________________________LCD_ENTRY_MODE(0x06)_______________________________*/

}
#endif
/*_______________________________________________________LCD_INIT_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_INIT_4_BIT_____________________________________________________________*/



/*___________________________________________________________________SEND_4_BIT_CMD______________________________________________________________*/
/*___________________________________________________________________SEND_4_BIT_CMD______________________________________________________________*/
/*___________________________________________________________________SEND_4_BIT_CMD______________________________________________________________*/
#if defined		LCD_4_BIT_FUNC
void LCD_SEND_CMD_FOUR_BIT(uint_8 CMD,uint_8 NIPPLE)
{

	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RS_PIN,LOW);	//-------------->CMD_MODE
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RW_PIN,LOW);	//-------------->WRITE_MODE
					switch(NIPPLE)
					{
					case HIGH_NIPPLE :
					DIO_WRITE_ON_HIGH_NIPPLE(LCD_PORT,(CMD>>4));//-------------------------------------------->TAKE_MOST_NIPPLES_CMD

					ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
	
					DIO_WRITE_ON_HIGH_NIPPLE(LCD_PORT,CMD);//-------------------------------------------->TAKE_LEAST_NIPPLES_DATA
	
					ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
					break;
					case LOW_NIPPLE :
					DIO_WRITE_ON_LOW_NIPPLE(LCD_PORT,(CMD>>4));//-------------------------------------------->TAKE_MOST_NIPPLES_CMD

					ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
					
					DIO_WRITE_ON_LOW_NIPPLE(LCD_PORT,CMD);//-------------------------------------------->TAKE_LEAST_NIPPLES_DATA
					
					ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
					break;
					}					
}
#endif
/*___________________________________________________________________SEND_4_BIT_CMD______________________________________________________________*/
/*___________________________________________________________________SEND_4_BIT_CMD______________________________________________________________*/
/*___________________________________________________________________SEND_4_BIT_CMD______________________________________________________________*/





/*___________________________________________________________________SEND_4_BIT_DATA______________________________________________________________*/
/*___________________________________________________________________SEND_4_BIT_DATA______________________________________________________________*/
/*___________________________________________________________________SEND_4_BIT_DATA______________________________________________________________*/
#if defined		LCD_4_BIT_FUNC
void LCD_SEND_DATA_FOUR_BIT(uint_8 DATA,uint_8 NIPPLE)
{
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RS_PIN,HIGH);	//-------------->DATA_MODE
	
	DIO_PORT_PIN_WRITE(LCD_CONTROL_PORT,RW_PIN,LOW);	//-------------->WRITE_MODE
		switch(NIPPLE)
		{
			case HIGH_NIPPLE :
			DIO_WRITE_ON_HIGH_NIPPLE(LCD_PORT,(DATA>>4));//-------------------------------------------->TAKE_MOST_NIPPLES_CMD

			ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
		
			DIO_WRITE_ON_HIGH_NIPPLE(LCD_PORT,DATA);//-------------------------------------------->TAKE_LEAST_NIPPLES_DATA
		
			ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
			break;
			case LOW_NIPPLE :
			DIO_WRITE_ON_LOW_NIPPLE(LCD_PORT,(DATA>>4));//-------------------------------------------->TAKE_MOST_NIPPLES_CMD

			ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
		
			DIO_WRITE_ON_LOW_NIPPLE(LCD_PORT,DATA);//-------------------------------------------->TAKE_LEAST_NIPPLES_DATA
		
			ENABLE_PULSE();//----------------------------------------------------------->ENABLE_PULSE
			break;
		}

}
#endif
/*___________________________________________________________________SEND_4_BIT_DATA______________________________________________________________*/
/*___________________________________________________________________SEND_4_BIT_DATA______________________________________________________________*/
/*___________________________________________________________________SEND_4_BIT_DATA______________________________________________________________*/


/*_______________________________________________________________LCD4_BIT_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD4_BIT_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD4_BIT_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD4_BIT_WRITE_STRING_____________________________________________________________*/
#if defined		LCD_4_BIT_FUNC
void LCD_WRITE_STRING_4_BIT(uint_8* STRING)
{
	uint_8 i=0;
	while(STRING[i]!='\0')
	{
		LCD_SEND_DATA_FOUR_BIT(STRING[i],NIPPLE_MODE);
		STRING++;
	}
	
}
#endif
/*_______________________________________________________________LCD4_BIT_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD4_BIT_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD4_BIT_WRITE_STRING_____________________________________________________________*/
/*_______________________________________________________________LCD4_BIT_WRITE_STRING_____________________________________________________________*/





/*_________________________________________________________________4_BIT_MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________4_BIT_MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________4_BIT_MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________4_BIT_MOVE_CURSOR___________________________________________________________*/
#if defined		LCD_4_BIT_FUNC
void MOVE_CURSOR_4_BIT(uint_8 ROW,uint_8 COULMN)

{
	if((ROW<1) || (ROW>2) || (COULMN<1) ||(COULMN>16))
	{
		LCD_SEND_CMD_FOUR_BIT(LCD_CURSOR_SET,NIPPLE_MODE);//----------------------->RETURN_CURSOR_TO_FIRST_POSITION
	}
	else if (ROW==1)
	{
		LCD_SEND_CMD_FOUR_BIT((0x80+(COULMN-1)),NIPPLE_MODE);//-------------------->LINE_ONE_SPECIFIC_COULMN
	}
	else if (ROW==2)
	{
		LCD_SEND_CMD_FOUR_BIT((0xC0+(COULMN-1)),NIPPLE_MODE);//-------------------->LINE_TWO_SPECIFIC_COULMN
	}
	
}
#endif
/*_________________________________________________________________4_BIT_MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________4_BIT_MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________4_BIT_MOVE_CURSOR___________________________________________________________*/
/*_________________________________________________________________4_BIT_MOVE_CURSOR___________________________________________________________*/

/*_______________________________________________________LCD_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_4_BIT_____________________________________________________________*/
/*_______________________________________________________LCD_4_BIT_____________________________________________________________*/













